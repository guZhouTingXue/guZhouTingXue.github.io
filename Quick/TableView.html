<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"TableView","image":[""],"dateModified":"2025-08-02T12:38:34.000Z","author":[{"@type":"Person","name":"mingStudent"}]}</script><meta property="og:url" content="https://guzhoutingxue.github.io/Quick/TableView.html"><meta property="og:title" content="TableView"><meta property="og:description" content="A TableView has a modal that defines the data to be displayed, and a delegate that defines how the data should be displayed. TableView inherits Flickable. ... A TableView displa..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-08-02T12:38:34.000Z"><meta property="article:modified_time" content="2025-08-02T12:38:34.000Z"><link rel="icon" href="/awesomeface.png"><title>TableView</title><meta name="description" content="A TableView has a modal that defines the data to be displayed, and a delegate that defines how the data should be displayed. TableView inherits Flickable. ... A TableView displa...">
    <link rel="preload" href="/assets/style-BufAwt8K.css" as="style"><link rel="stylesheet" href="/assets/style-BufAwt8K.css">
    <link rel="modulepreload" href="/assets/app-CBNHR-r7.js"><link rel="modulepreload" href="/assets/TableView.html-PPVwhN-0.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-CYSaMfMF.js" as="script"><link rel="prefetch" href="/assets/Exposing Attributes of cpp Types to QML.html-2WYreeNu.js" as="script"><link rel="prefetch" href="/assets/Markdown.html-DcKAA7UN.js" as="script"><link rel="prefetch" href="/assets/Obsidian.html-B7Kwqqgo.js" as="script"><link rel="prefetch" href="/assets/文章列表.html-C9Nyk_lg.js" as="script"><link rel="prefetch" href="/assets/页面.html-BV0N4Lm5.js" as="script"><link rel="prefetch" href="/assets/QChartView.html-BTuhWFp1.js" as="script"><link rel="prefetch" href="/assets/404.html-hivoIdhg.js" as="script"><link rel="prefetch" href="/assets/index.html-CPs0n5lT.js" as="script"><link rel="prefetch" href="/assets/index.html-CAZWMoan.js" as="script"><link rel="prefetch" href="/assets/index.html-BmdQ5MEu.js" as="script"><link rel="prefetch" href="/assets/index.html-CYB3V9y_.js" as="script"><link rel="prefetch" href="/assets/index.html-DMmol8Dy.js" as="script"><link rel="prefetch" href="/assets/index.html-DYUTBWPD.js" as="script"><link rel="prefetch" href="/assets/index.html-IifCjluo.js" as="script"><link rel="prefetch" href="/assets/index.html-DGjfQPjO.js" as="script"><link rel="prefetch" href="/assets/index.html-FBmD41HP.js" as="script"><link rel="prefetch" href="/assets/index.html-wKHfrQJy.js" as="script"><link rel="prefetch" href="/assets/index.html-Dk2fXzoa.js" as="script"><link rel="prefetch" href="/assets/index.html-DU4ts07L.js" as="script"><link rel="prefetch" href="/assets/index.html-Coe0pfnO.js" as="script"><link rel="prefetch" href="/assets/index.html-R9Of5SYp.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CKV1Bsxh.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container no-navbar no-sidebar external-link-icon has-toc" vp-container><!----><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><!----><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->TableView</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">mingStudent</span></span><span property="author" content="mingStudent"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025/7/31</span><meta property="datePublished" content="2025-07-31T14:04:46.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 5 分钟</span><meta property="timeRequired" content="PT5M"></span><!----><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><blockquote><p>A TableView has a modal that defines the data to be displayed, and a delegate that defines how the data should be displayed.</p><p>TableView inherits Flickable. ...</p><p>A TableView displays data from modals created from built-in QML types such as ListModel and XmlListModel, ...</p><p>A TableView does not include headers by default. You can add headers using the HorizontalHeaderView and VerticalHeaderView from Qt Quick Controls.</p></blockquote><h1 id="tableview" tabindex="-1"><a class="header-anchor" href="#tableview"><span>TableView</span></a></h1><h2 id="c-models" tabindex="-1"><a class="header-anchor" href="#c-models"><span>C++ Models</span></a></h2><blockquote><p>This example shows how to create a model from C++ with multiple columns</p></blockquote><h2 id="构建" tabindex="-1"><a class="header-anchor" href="#构建"><span>构建</span></a></h2><ol><li>新建项目：选择Qt Quick Application<br><img src="/assets/%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE-DP4XyCa3.png" alt="" loading="lazy"></li><li>创建class：TableModel。将代码拷贝到tableModel.h</li><li>修改Main.qml：注意这里不需要import，因为TableModel 中使用了QML_ELEMENT宏，qt会帮我们注册该TableModel 到QML 中</li></ol><h3 id="实现" tabindex="-1"><a class="header-anchor" href="#实现"><span>实现</span></a></h3><p>TableModel：</p><ol><li>TableModel 继承于 QAbstractTableModel；</li><li>role 为 DisplayRole 是返回 单元格 行号、列号构成的字符串；</li><li>DisplayRole 的名称为 display</li></ol><p>Main.qml</p><ol><li>创建TableModel 对象；</li><li>在delegate 中指定 单元格的样式-Rectangle；</li><li>通过display - Display 的名称获取显示的数据</li></ol><h3 id="效果" tabindex="-1"><a class="header-anchor" href="#效果"><span>效果</span></a></h3><figure><img src="/assets/C__model%E6%95%88%E6%9E%9C-3DBNQj0s.png" alt="|412x309" tabindex="0" loading="lazy"><figcaption>|412x309</figcaption></figure><ol><li>单元格内容：单元格编号；</li><li>没有表头</li><li>可以通过鼠标控制显示的单元格范围</li></ol><h2 id="qml-models" tabindex="-1"><a class="header-anchor" href="#qml-models"><span>QML Models</span></a></h2><blockquote><p>For prototyping and displaying very simple data (from a web API, for example), TableModel can be used:</p></blockquote><h3 id="实现-1" tabindex="-1"><a class="header-anchor" href="#实现-1"><span>实现</span></a></h3><ol><li>import Qt.labs.qmlmodels;</li><li>model 的列数量由TableModelColumn 指定；</li><li>TableModelColumn：表示model中的一列，将Qt‘s role 作为属性暴露出来。<br> display 对应 Qt::Display，display: &quot;name&quot;; name 相当于 display 的别名</li><li>rows：数组类型，按行存储model中的数据。通过每一列中display的 名称对其进行赋值。</li></ol><h3 id="效果-1" tabindex="-1"><a class="header-anchor" href="#效果-1"><span>效果</span></a></h3><p><img src="/assets/model-DUvIETuW.png" alt="" loading="lazy"><br> 第一列显示动物的种类，第二列显示颜色。单元格之间存在间隙。</p><h2 id="selecting-items" tabindex="-1"><a class="header-anchor" href="#selecting-items"><span>Selecting Items</span></a></h2><blockquote><p>You can add selection support to TableView by assigning an ItemSelectionModel to the selectionModel property. It will then use this model to control which delegate items should be shown as selected, and which item should be shown as current. You can set selectionBehavior to control if the use should be allowed to select individual cells, rows, or columns.</p></blockquote><h3 id="实现-2" tabindex="-1"><a class="header-anchor" href="#实现-2"><span>实现</span></a></h3><ol><li>设置ItemSelectionModel</li><li>delegate 判断当前绘制项是否为选中项：</li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">required</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> property</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> bool</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> selected</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><pre><code>required：要求创建对象时要对selected 进行赋值，由ItemSelectionModel 进行判断
</code></pre><ol start="3"><li>设置颜色：未选中的项背景颜色为灰色，选中项目背景为蓝色</li></ol><h3 id="效果-2" tabindex="-1"><a class="header-anchor" href="#效果-2"><span>效果</span></a></h3><figure><img src="/assets/Selection-Ds7k2Qh2.png" alt="Selection.png" tabindex="0" loading="lazy"><figcaption>Selection.png</figcaption></figure><h4 id="无法选中" tabindex="-1"><a class="header-anchor" href="#无法选中"><span>无法选中？</span></a></h4><p>点击表格中的项，该项背景颜色未改变-没有被选中</p><ol><li>默认状态下是否无法通过鼠标点击修改selected项<br> ItemSelectionModel 中有 currentChanged（current， previous）信号，在槽中进行打印</li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        selectionModel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ItemSelectionModel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            onCurrentChanged</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">previous</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">                console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">debug</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`currrent: </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">current</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, previous: </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">previous</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行后先点击Hedwig，后点击Harry，打印结果：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>qml: currrent: QModelIndex(1,0,0x0,QQmlTableModel(0x1ae06846420)), previous: QModelIndex()</span></span>
<span class="line"><span>qml: currrent: QModelIndex(0,0,0x0,QQmlTableModel(0x1ae06846420)), previous: QModelIndex(1,0,0x0,QQmlTableModel(0x1ae06846420))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>结果显示第一次点击后current 的QModelIndex的行是1，列是0，初始没有选中项，所以其index为QModelIndex（）。第二次点击后current 的index变为 第0行第0列，previous 变为上次的current。
</code></pre><p>以上说明鼠标点击可以修改selected 项<br> 2. delegate 中 selected 属性没有更新<br> 在delegate 中增加打印：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	onSelectedChanged</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">		console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">debug</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">dColor</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">text</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> selected:</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">selected</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">dColor</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">display</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>鼠标点击切换时没有打印信息，说明selected 没有更新
</code></pre><ol start="3"><li><mark style="background:#FFF3A3A6;">为什么没有更新？能否在ItemSelectionModel 的slot 中更新 delegate 的selected？</mark><br> selected 是否有对应的Role？<br> 如何在qml 中使用 c++中定义的enum？<br> 如果知道枚举类型的值，可以直接传递值。但这样显然不合适</li></ol><h3 id="selectionrectangle" tabindex="-1"><a class="header-anchor" href="#selectionrectangle"><span>SelectionRectangle</span></a></h3><p>注意到说明文档中的Note</p><blockquote><p>Qt Quick Controls offers a SelectionRectangle that can be used to let the user select cells.</p></blockquote><h5 id="实现-3" tabindex="-1"><a class="header-anchor" href="#实现-3"><span>实现</span></a></h5><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">TableView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">tableView</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">	...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">SelectionRectangle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">tableView</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="效果-3" tabindex="-1"><a class="header-anchor" href="#效果-3"><span>效果</span></a></h5><p><img src="data:image/png;base64,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" alt="" loading="lazy"><br> 可以拖动整个表格，但是无法触发选中</p><h5 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题</span></a></h5><p><a href="https://forum.qt.io/topic/132272/qt6-2-tableview-selectionmodel-rectangle-selection-not-working/3" target="_blank" rel="noopener noreferrer">参考链接</a></p><p>设置TableView的interactive 为 false</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">interactive</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>效果：<br><img src="data:image/png;base64,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" alt="" loading="lazy"><br> 单击还无法选中，需要 PressAndHold - 按住并拖动才会更新selected。。。</p><h4 id="selectionmode" tabindex="-1"><a class="header-anchor" href="#selectionmode"><span>selectionMode</span></a></h4><p>默认情况下单元格无法被选中是因为interactive 为true，“A user can not drag or flick a Flickable that is not interactive.&quot;<br> 交互（ineract）的方式有两种： drag、flick。默认情况下产生的flicking，禁用interactiv 后鼠标产生drag事件，或放置ScrollView中， 也只产生drag。</p><p>windows上设置为 PressAndHold 无法触发选中</p><h2 id="header" tabindex="-1"><a class="header-anchor" href="#header"><span>Header</span></a></h2><p>HorizontalHeaderView</p><blockquote><ul><li>can be used as an independent view or header for a TableView.</li><li>assigning the TableView to the syncView property of HorizontalHeaderView. The header and the table will then be kept in sync while flicking.</li><li>By default, HorizontalHeaderView displays header data from the sync view&#39;s model.</li><li>By default, textRole is set to &quot;display&quot;, meaning that data from the model&#39;s Qt::DisplayRole will be used.</li><li>The application is responsible for placing the header at the correct location in the scene.</li></ul></blockquote><h3 id="效果-4" tabindex="-1"><a class="header-anchor" href="#效果-4"><span>效果</span></a></h3><p><img src="/assets/header-C2_8PIBG.png" alt="" loading="lazy"><br> header 显示行、列号。<br><img src="/assets/%E8%B0%83%E6%95%B4header%E5%AE%BD%E5%BA%A6-DCUJHwat.png" alt="" loading="lazy"><br> 可以调整行列宽度；flicking 时 header 跟随表格移动</p><h3 id="实现-4" tabindex="-1"><a class="header-anchor" href="#实现-4"><span>实现</span></a></h3><h3 id="placing-the-header" tabindex="-1"><a class="header-anchor" href="#placing-the-header"><span>placing the header</span></a></h3><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">HorizontalHeaderView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">horizontalHeader</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">left</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">tableView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">left</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">top</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">VerticalHeaderView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">verticalHeader</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">tableView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">top</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">left</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">left</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">TableView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">tableView</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">left</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">verticalHeader</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">horizontalHeader</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">right</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">right</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	anchors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">left</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">left</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>放置时先确定和parent 的关系，然后确定header 和 table 之间的关系。<br> 注意：anchors 时不能互相依赖</p><h3 id="header-data" tabindex="-1"><a class="header-anchor" href="#header-data"><span>header data</span></a></h3><ol><li>从TableView中获取：</li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">syncView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">tableView</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果view 没有提供，那么默认显示行、列号</p><p>如果TableView 使用C++提供的model：<br> c++中定义header</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">QVariant</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> TableModel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">headerData</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> section</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, Qt::</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Orientation</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> orientation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> role</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(orientation </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Qt::Horizontal </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> role </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Qt::DisplayRole)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(section </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(section </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;color&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> QVariant</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/%E4%BD%BF%E7%94%A8c__model%20header-XUSths4c.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li>使用指定的model:</li></ol><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	HorizontalHeaderView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		syncView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">tableView</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">horizontalModel</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	ListModel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">horizontalModel</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		ListElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">display</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		ListElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">display</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;color&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：<br><img src="/assets/%E4%BD%BF%E7%94%A8ListModel%20%E4%BD%9C%E4%B8%BAheader-DIspp_xM.png" alt="" loading="lazy"><br> 默认textRole （显示的内容） 对应 DisplayRole，可以指定为其他Role</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	HorizontalHeaderView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		textRole</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cusRole&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">horizontalModel</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	ListModel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">horizontalModel</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		ListElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">display</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cusRole</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;one&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">		ListElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">display</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;color&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cusRole</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;two&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果：<br><img src="/assets/%E8%AE%BE%E7%BD%AEtextRole-DDal_DIY.png" alt="" loading="lazy"></p></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/src/Quick/TableView.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">最近更新</span><time class="vp-meta-info" datetime="2025-08-02T12:38:34.000Z" data-allow-mismatch>2025/8/2 12:38</time></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 2422173022@qq.com">guZhouTingXue</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">MIT Licensed</div><div class="vp-copyright">Copyright © 2025 mingStudent </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CBNHR-r7.js" defer></script>
  </body>
</html>
