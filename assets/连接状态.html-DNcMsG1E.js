import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,d as e,f as n,a as s,r,o as h}from"./app-D-r_7lG0.js";const d="data:image/webp;base64,iVBORw0KGgoAAAANSUhEUgAAAekAAAAbCAIAAADXgeBmAAAFNElEQVR4Ae2dW5YqIQxFHVJNpsbiTPx2Eo7EAdkrgcAJDwur7Xr0Ov50gJCEDYklete9PPkiARIgARI4G4HL2QJmvCRAAiRAAk/Wbh4CEiABEjgfAdbu8+0ZIyYBEiAB1m6eARIgARI4HwHW7vPtGSMmARIgAdZungESIAESOB8B1u7z7RkjJgESIIFdavfjOl0u8430SYAESIAE1hFo1G6trBd4TdfHOuO9WazdPTLsJ4EhAjFJywegOrN8z23OeW1pLX0mD/lGJTA4aGNF5HFKHfrzuXHwuPTd5V7tzodCwQ3uy+By/HkanEQ1EiABI5DKWU5UGSozS9qWu+XYbcYRk83ByF8snGp9xIgqShleHbl3Ja0Rv+WCVgVfGtm1vVy7f/ne1lqdwvdb11JjHwmQQJuAVqx5nooaWGSW1CfLM6xVlU1UrAY7HYUvfd8YKKKfR169IxVP2xsG30GxT/eq2q27Fj/BuN3CATszYV3C117zNd131weq7tkHDL2SwIEJaAW8PkLC5VTTdmreZngi1QxMQ+XSZKINqhGX16W2tL0r6RlLXZk3fRR57arwtF3wLRC79S3X7nLPHTe3zY/rbDfjrl83NZ2M0LLnAWct7r+dod2g0DEJHJxArICxhKbk0ryz/JHcMjmmVvGYDosEZZ+8oOPEFEHqrXvSEAhJS92kALVl0UIwMtONhfeINE8tg77qDr3xeCWZ53sg5mOKvdptz8hu9yNGI6wr6q054xTJU8G98PPzrGPiYlQkcAgCkDaaTbGW9TNLow6qktsuh3XMPaQPrPF9WvcNrIg8h61lqY5dngd9ien7t8UWE5DcwuTdhu/6Su57tTvykQ3CfS4oWoVPNFXfesPEBhTXJY3IHcQUIAUSIIGKgEsVzSfNNpViNoqcEhMNWJL6aie9TXWcCrLoewsuJtD0otPSeBcjV60YmwZfxblV8H4pW7dC7X69XsHxQu0uP6AgxTJypZq2P9FsTPFd0tJDkITSMtskQAKOQJErmlGX+aZ/Y2UTuSpyyYjNSB0pYVPPewFdBU2x4Kt5y4LMAy2LA82JjJHjWFmRsmuc0XKMfd6ijIwFjzZ2kV/6Cq4Xa3fBqr9EPwJw/IBxgs0R3fjtBWzqLmjolAROQSDmTI5VE+4yTflfvVUqWVklyUuod59eO+gtNObrkr/ovlJbjlw1fKgudK1RGEqx0kazjKJsN6YcrmugdoevCgxNIJ1BPq5TaMhRsLMQlKylIzY/vhckVSUi50Z+8JTNHg4UAyKBAxFo1JqYdDmzfHEuarNqQ75JOzZ1KOdrf9XiwPRKe91ZomiTopLOxVt4H3n5XWX88hKMiIFNgu+u6s8G8I4b5eez9X8vNHYhwLWdTqgFd0Ew3HVP14fHLy17+U92YdFh3Bz8GQgaJoH/QUByEFIvLComZkqjolzbL7xSjgIKtKdmKuOgnMXoUS0mt3m4JaGnNB7tJBM+ch1NYzopTIh9aFIH/iz4FPBmAt5xo9yu3ZuFBY4auwOjFEmABFYQ8A9QbwxI/vni+EZ5i6HhyFu/fdsiwA194B03yo07kw2jMlf4xml9/EsCJPBLAoOJ5R9zf+nzO9MHIw/fMo49Z38nsONYOUTt/uRN9jjoGAkJHJ+A1MD3j9SSfUcsfsuRn+fnIR+fk/v9HubgHTfK+9+Z6P4c8+h8jJsTSIAESOArBO73e/gdN95xo7x/7f7KOmmEBEiABP4TAbzX7smHuDP5T9C5FhIgARLYgABr9waQ6YIESIAEvkzgB40SL85+w4aNAAAAAElFTkSuQmCC",p="data:image/webp;base64,iVBORw0KGgoAAAANSUhEUgAAAWwAAAARCAIAAAB2NgFFAAAFeUlEQVR4Ae1a25GrMAylDErIJ2XwRwt0kZRBB+km5aSGO7Ktx7EMGPZxs4yZnV1iZPno6Fi2yXbLe2k/jYHGQGPgNAPd6Z6tY2OgMdAYWN5LKyJtI9YYaAx8iYG/XESeQ3cbH+041hhoDPxXBnwRmYeOr2n+6N3adxYRirq/PzTe19gnGvrxxXX6KdyYRsif8/NeFu01zNFYnXfDk52rH0lBaRTta57qEKZRHfohrt3yGG9d1yEVqJbHve+SvIXtlIt5QiXs0ygecMRCx3pg0ZJnIi+Wx7Ety7ukScK21n5YG1hEghZV1s8B5lWBlMPj6SwteCPidPSCAQ6HsmDPB528Y7aGAaRD/CYkOso8cC5DXeCKkHAW/YQKIr2SJTrvCn4S7ZSO7Cn2TZ63gSFpu6xewSBoYMKNquZxWV5jL9RJokkJke3HeNstB8IqjbWeLzGLN/XAgiUvMPPUcck7jK3rMm0nSFRGs4XzbOptETECPeuOZ3LGXeVHIG7flZWFAj7ohDtCjQfPxbTNQ7bQFf2QLr0c50FLg/NDGw0pHC6WLwDb55ND+PuWkTf6raugoW6eeIXQaoISfQ48abHdU7Sdr9y+GlhY23RBtXjsfe6/jBa0HbuEwEdYOMt9a8Rgiohh2fWk+sKXSDxMgHt6wtkqNqa9U/TAllnjqEOYVWKjCz0qLfIJp3PiVnVgDYgGKtxMTicU4WHdD6cqi+Jx73Xtys6MKBFAFcfVkI8BczkF2Nd6ysyEo5/bUdrKvrJwSnEhD34ZMNRt5yuf5PXA2JI80L3OmnpsPHquIq5Qrt3ExX1rhFFTRIhojUH32KGyxDmgXK81SiaEHXTLZHH1tUs0dGGDhfZ4OqMkfjF2pz5FLsZ6A4Rm4tMdb7C3Tx3X4MceD5WiJe4ks8oSs2XO6jQWeHuHfbiAsc4jjE1gNWq4io1qIFAdyr0uDHYnKG+ssiWBbUzWiuTs5CuXRz0wsuRL5k6Uay02AZypSD7KjVieu6koIsp+jEGIyOZ5DLXUGOTOjNBfKkm521Rxdd2wHYpdCh6cE6gygjwGAr9zQgXzbRwnzWIQpX70pIMfRJgegS6pkkpZJG+7K9tZYB7qdVtsosNsnGbVm6zkZoaHtMp7h6iirSwrdbv5MqPEPQWnexuYhmBeiMgErMPGQ69pEtrZWEOrbjFFhN7WlsDhTAhERDNrL1vEUmPuIXBRaFTiNOU2kqxL9jFZbjgRkFA+ImvrhHLhD/uC3aMy+EG9xkc7axcEZWKxPKT7Y8BOiOPPdkHe4gZN37MqbxigLehrNk45B/KFK5zsK8vAbAgWWNxfZ/smhwrVYjRJbvMLFtodV8hYMrZFJG6zTR1J387guUNZK9ULqEQyaYGFeYoU2MZ5pK9XV4krdQl0FOLPncBBrGCfiDBEA4/aTlp0yYNtBXVUe0okgUkAxFJuyIBJ0EaDX6jWp4pNB6KnDhjKqJj76zYaDgMPaaORsm90+xp7fSeF7ZHSEvPImxlL8rVKvjHeBgZzIUxMka6kex9btbZXAaveMGpohyJCdrJb7uzujrTOl+jVkE4xb2xP0mE+euDtnG1MPiHZxFG6tIvC68c7fofHRICTMEvFTfo3Dba0vOicpKeU7HhBDWJH8S+hcolEP/DyuBQFn2WsHw2cqdan1cBKMdp4L32fz9WUUJ6H+u3MG95PQYLyl30wbYA9n69V8uuBZZYh7xGSHKBUFevYAhKnyWS/1g7Rrcaig7oiUtHn6BjNvjHwWQzgMdNhkxVR54mz+ZlHO8COvKz5xYncisjPqOEXU/hL+r5WRNmbKcvhd63P1mf9/QYwd1j+FOm2IvIpmajXWbNsDHwUA62ItCLSGGgMfImBf6YB3mO8s8wiAAAAAElFTkSuQmCC",k={};function A(o,i){const a=r("Mermaid");return h(),l("div",null,[i[0]||(i[0]=e('<h1 id="连接状态" tabindex="-1"><a class="header-anchor" href="#连接状态"><span>连接状态</span></a></h1><h2 id="界面" tabindex="-1"><a class="header-anchor" href="#界面"><span>界面</span></a></h2><p>参考：<br> 初始：<br><img src="'+d+'" alt="" loading="lazy"><br> 连接成功：<br><img src="'+p+'" alt="" loading="lazy"><br> 构成元素：</p><ol><li>当前连接状态提示：Ready-初始完毕，准备连接</li><li>背景颜色</li><li>接收、发送 序号</li></ol><table><thead><tr><th>状态</th><th>提示</th><th>背景颜色</th></tr></thead><tbody><tr><td>等待连接</td><td>Ready</td><td></td></tr><tr><td>正在连接</td><td>Connecting to ServerIP</td><td></td></tr><tr><td>连接成功</td><td>Connected to ServerIP</td><td></td></tr><tr><td>连接失败</td><td>Connected to ServerIP failed</td><td></td></tr></tbody></table><h2 id="状态" tabindex="-1"><a class="header-anchor" href="#状态"><span>状态</span></a></h2><div class="hint-container note"><p class="hint-container-title">注</p><p>以下内容并非完整的状态转换，不包含收到其他类型帧 以及 异常（超时）后的状态转换</p></div><p>协议采用TCP/IP 进行数据通讯，但是在此基础上还有额外的机制控制数据传输。<br> 以下是一些定义：<br> 控制站：向被控站发送命令、请求数据，控制数据传输的启动、停止。在网络应用中相当于client。<br> 被控站：数据采集，上报。接收命令，进行相应的动作。在网络应用中相当于server<br> STARTDT：由控制站发送的启动数据传输命令<br> STARTDT确认：由被控站回复的接收到STARDT的确认消息<br> STOPDT：由控制站发送的停止数据传输命令<br> STOPDT确认：由被控站回复的接收到STOPDT的确认消息</p><p>在已经建立TCP连接的基础上：</p>',9)),n(a,{code:"eJwrTi0sTc1LTnXJTEwvSszlKkgsKslMzixIzCtRcM7PKynKz8lJLVJILFZ41rf8ace256tnoqhxSgXJvVi0GigNkkPo0bWzc0q1UggOcQwKcQnhckrVBYogpOEyCs8XrnuxbglIAar8s6kbnvWuQzYRauSzKduedmzAlIbKzl/6Yv2ixw2NzzqXv1jY83Ti3ie7waZjNR6u7vnuyc/mzcHmfv8AHM4HSUAdDwCNH457"}),i[1]||(i[1]=s("p",null,"控制站在收到STOPDT确认后可以直接关闭TCP连接，也可以保持TCP连接。",-1)),i[2]||(i[2]=s("p",null,"状态可以分为两个部分：",-1)),i[3]||(i[3]=s("ol",null,[s("li",null,"TCP 网络连接状态：等待连接、正在连接、连接成功"),s("li",null,"数据传输状态：等待数据传输、正在数据传输")],-1)),i[4]||(i[4]=s("p",null,"控制站的状态转换：",-1)),n(a,{code:"eJx1UctOwkAUXbdfMWsTNi67MDEStxphpy4aWskk2BKY4LaYGMCAb0mM+CBAdEOtCTExvH6GmU5X/oJTOwOl1E17586559w5p4hUpCehmi2ox4nSuixBLacrwP8Ct1/DkzOUydPpM7noyVLGNAw9g6CRVcCiBqTfwa13ATpSYU7XFBD8QdDG3U86YJfQUNlMyVfgFZjzk+oVPn85CFTJvUMa9mz0Sie3snSiQl9p2yykkFpAGtoyDQXEdfnSZGqRwdBt29TuypLQ5Ipi30farv+vY+ZjZHiTq9C3jvfQXdbSYJFbo4BFDUizj0cW90iW9tcOE4kN3+XAcXYIm0vtiTu2cW+MWw5+smbTNil//Izq7uk3rgy5XfWad2OHQ2EkgekihAirV2mQprMapr/JPJdIHIvIGCo+Bnx57VnlVHpzL5mOj4qNCnpy94WrTgBejifCP7df0O/sRuk5hA2GTRcKPn41FO46g/0Fwh/5C23Ua6c="}),i[5]||(i[5]=e(`<h2 id="实现" tabindex="-1"><a class="header-anchor" href="#实现"><span>实现</span></a></h2><p>参考simple_client.c</p><ol><li>设置回调函数</li></ol><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    CS104_Connection_setConnectionHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(con, connectionHandler, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">connectionHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> parameter, CS104_Connection connection, CS104_ConnectionEvent event);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>event的定义：</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">typedef</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> enum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    CS104_CONNECTION_OPENED</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    CS104_CONNECTION_CLOSED</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    CS104_CONNECTION_STARTDT_CON_RECEIVED</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    CS104_CONNECTION_STOPDT_CON_RECEIVED</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} CS104_ConnectionEvent;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>回调处理：</li></ol><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    CS104Connection </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">con </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#ABB2BF;"> static_cast</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CS104Connection</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(parameter);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(con)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        emit </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">con</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">connectionEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(event);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>直接把event 发射出去
</code></pre>`,9))])}const B=t(k,[["render",A]]),u=JSON.parse('{"path":"/IEC%2060870-5-104/%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81.html","title":"连接状态","lang":"zh-CN","frontmatter":{"category":"IEC 60870-5-104","description":"连接状态 界面 参考： 初始： 连接成功： 构成元素： 当前连接状态提示：Ready-初始完毕，准备连接 背景颜色 接收、发送 序号 状态 注 以下内容并非完整的状态转换，不包含收到其他类型帧 以及 异常（超时）后的状态转换 协议采用TCP/IP 进行数据通讯，但是在此基础上还有额外的机制控制数据传输。 以下是一些定义： 控制站：向被控站发送命令、请求...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"连接状态\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-24T15:40:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"mingStudent\\"}]}"],["meta",{"property":"og:url","content":"https://guzhoutingxue.github.io/IEC%2060870-5-104/%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81.html"}],["meta",{"property":"og:title","content":"连接状态"}],["meta",{"property":"og:description","content":"连接状态 界面 参考： 初始： 连接成功： 构成元素： 当前连接状态提示：Ready-初始完毕，准备连接 背景颜色 接收、发送 序号 状态 注 以下内容并非完整的状态转换，不包含收到其他类型帧 以及 异常（超时）后的状态转换 协议采用TCP/IP 进行数据通讯，但是在此基础上还有额外的机制控制数据传输。 以下是一些定义： 控制站：向被控站发送命令、请求..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-24T15:40:41.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-24T15:40:41.000Z"}]]},"git":{"createdTime":1755528496000,"updatedTime":1756050041000,"contributors":[{"name":"guZhouTingXue","username":"guZhouTingXue","email":"2422173022@qq.com","commits":2,"url":"https://github.com/guZhouTingXue"}]},"readingTime":{"minutes":2.2,"words":661},"filePathRelative":"IEC 60870-5-104/连接状态.md","excerpt":"","autoDesc":true}');export{B as comp,u as data};
