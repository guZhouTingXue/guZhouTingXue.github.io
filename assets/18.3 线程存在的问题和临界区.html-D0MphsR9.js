import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a as e,f as m,e as n,r as a,o as p}from"./app-y4S3ecjE.js";const l={};function u(s,t){const o=a("Mermaid");return p(),i("div",null,[t[0]||(t[0]=e("h1",{id:"_18-3-线程存在的问题和临界区",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_18-3-线程存在的问题和临界区"},[e("span",null,"18.3 线程存在的问题和临界区")])],-1)),t[1]||(t[1]=e("p",null,[n("多个线程同时访问同一块内存（不限于全局变量）时存在的问题"),e("br"),n(" 修改一个变量的过程：")],-1)),t[2]||(t[2]=e("ol",null,[e("li",null,"读变量的值并传递给CPU"),e("li",null,"CPU计算结果"),e("li",null,"将结果写回变量")],-1)),t[3]||(t[3]=e("p",null,[n("线程的切换可能发生在以上三个阶段中的任意一个。"),e("br"),n(" 假设num当前值为99")],-1)),m(o,{code:"eJyNUTsOwjAM3X0KKzNB7UYYEPdADKENFKkUlAaBRJkBAYeABc7Awmn4HAM3oVAhVWJK4vee37PTj8ezIJLaICTTEReivUgjOVFNNGpuahjLnoqbyIRgS0invYGWkwhNpJUMvQ4bJgHrAtpXe4FvqVZBSZqDSHpcAhK/ikYQ+p5HNjjTQ6Mq+1m0oFpn5LyVt0Zep4tTg0pC+E3sd1io0iKx/09i4lfRCELR+ASubOcCO6b1tXlzdX46rYvrvsCWs/vm9DzssveqEex8vJXd1qv7/vi4XB/nbVbMVVYWJdfYlggVja+bWxgVaYkAL3BzpfY="}),t[4]||(t[4]=e("p",null,"执行1次+1 和 一次 -1 操作后num的值应该保持不变。但是在上面的情景中，inc线程写入前切换到des线程，此时des读取到的num值是99，不管des对num如何操作，切换回inc后最终num的值都是100.",-1)),t[5]||(t[5]=e("p",null,"问题的原因：对num修改的操作分多步进行，可能因为切换线程被打断，导致数据没有更新完成。切换后使用的是更新前的数据。",-1))])}const B=r(l,[["render",u]]),c=JSON.parse('{"path":"/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/18.3%20%E7%BA%BF%E7%A8%8B%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98%E5%92%8C%E4%B8%B4%E7%95%8C%E5%8C%BA.html","title":"18.3 线程存在的问题和临界区","lang":"zh-CN","frontmatter":{"category":"网络编程","description":"18.3 线程存在的问题和临界区 多个线程同时访问同一块内存（不限于全局变量）时存在的问题 修改一个变量的过程： 读变量的值并传递给CPU CPU计算结果 将结果写回变量 线程的切换可能发生在以上三个阶段中的任意一个。 假设num当前值为99 执行1次+1 和 一次 -1 操作后num的值应该保持不变。但是在上面的情景中，inc线程写入前切换到des线...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"18.3 线程存在的问题和临界区\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-28T13:23:03.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"mingStudent\\"}]}"],["meta",{"property":"og:url","content":"https://guzhoutingxue.github.io/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/18.3%20%E7%BA%BF%E7%A8%8B%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98%E5%92%8C%E4%B8%B4%E7%95%8C%E5%8C%BA.html"}],["meta",{"property":"og:title","content":"18.3 线程存在的问题和临界区"}],["meta",{"property":"og:description","content":"18.3 线程存在的问题和临界区 多个线程同时访问同一块内存（不限于全局变量）时存在的问题 修改一个变量的过程： 读变量的值并传递给CPU CPU计算结果 将结果写回变量 线程的切换可能发生在以上三个阶段中的任意一个。 假设num当前值为99 执行1次+1 和 一次 -1 操作后num的值应该保持不变。但是在上面的情景中，inc线程写入前切换到des线..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-28T13:23:03.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-28T13:23:03.000Z"}]]},"git":{"createdTime":1769606583000,"updatedTime":1769606583000,"contributors":[{"name":"guZhouTingXue","username":"guZhouTingXue","email":"2422173022@qq.com","commits":1,"url":"https://github.com/guZhouTingXue"}]},"readingTime":{"minutes":1.03,"words":310},"filePathRelative":"网络编程/18.3 线程存在的问题和临界区.md","excerpt":"","autoDesc":true}');export{B as comp,c as data};
