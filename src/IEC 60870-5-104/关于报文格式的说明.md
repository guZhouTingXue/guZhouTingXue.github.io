---
category: IEC 60870-5-104
---
# 关于报文格式的说明
以DIQ 为例
``` txt
DIQ:=CP8{DPI,RES,BL,SB,NT,IV}
DPI:=UI2[1..2]<0..3>
<0>:=indeterminate or intermediate state
<1>:=determined state OFF
<2>:=determined state ON
<3>:=indeterminate state
RES = RESERVE:=BS2[3..4]<0>
BL:=BS1[5]<0..1>
```

| 符号/名称                    | 含义                                                          | 说明                         |
| ------------------------ | ----------------------------------------------------------- | -------------------------- |
| DIQ                      | 编码信息的简称Double-point information with quality descriptor<br> |                            |
| CP8                      | code parameter 长度8bits                                      |                            |
| {DPI，\...}               | 具体的编码参数列表                                                   | 按bit位从低到高排列                |
| UI2                      | 编码的类型(data type notation)及占据的bit位宽度                         | unsigned int 类型 占据2bit     |
| \[1..2]                  | 具体的bit                                                      | bit编号1开始，DPI 占据Bit1 和 bit2 |
| <0..3>                   | 取值范围，两位无符号数，范围从0到3                                          |                            |
| <0>:= indeterminate or.. | 取值为0时的含义                                                    |                            |
| RES = RESERVE            | 全称                                                          | 对于不需要另外具体说明的参数直接显示全称       |
| BS2                      | Bit string 2bits 宽度                                         |                            |

| bit | 8       | 7           | 6           | 5       | 4   | 3   | 2                                                         | 1   |
| --- | ------- | ----------- | ----------- | ------- | --- | --- | --------------------------------------------------------- | --- |
| 含义  | IV      | NT          | SB          | BL      | RES | -   | DPI                                                       | -   |
| 名称  | Invalid | Not Topical | Substituted | Blocked |     |     |                                                           |     |
| 说明  |         |             |             |         |     |     | 0 := indeterminate or intermediate state 不确定或中间状态<br>\... |     |

- 占据多个bit的在最高位进行说明，后面的位用- 替代

## Data Type Notation
参考chatgpt，具体的定义（标准-章节）没找到

| 记号   | 全称             | 说明                |
| ---- | -------------- | ----------------- |
| UI   | unsigned int   | 用于表示枚举、数值         |
| SI   | signed int     |                   |
| BS   | bit string     | 用于表示bool（1位宽度），字符 |
| FL32 | 32-bit float   |                   |
| CP   | code parameter |                   |
